# Javaコントローラー生成機能の実装計画

## 1. UIの変更 (index.html)

-   変換先フォーマットの選択肢に「Java (Controller)」のチェックボックスを追加する。
-   生成されたJavaコントローラーコードを表示するための新しいタブとテキストエリアを追加する。
-   生成されたJavaコントローラーを単体でダウンロードするためのボタンを追加する。

## 2. コード生成ロジックの実装 (index.html の `<script>` タグ内)

-   `generateJavaController(tables)` という名前で新しいJavaScript関数を作成する。
-   この関数は、パースされたテーブル定義データ (`tables`) を引数として受け取る。
-   テーブル名から、モデル名 (例: `users` -> `User`)、サービスクラス名 (`UserService`)、コントローラークラス名 (`UserController`) を生成するロジックを実装する。
-   提供されたサンプルコントローラーをテンプレートとして、以下の要素を動的に生成する。
    -   `package` と `import` 文。`models.User` や `services.UserService` のように、モデルとサービス名は動的にする。
    -   クラス定義 (`public class UserController extends Controller`)。
    -   `UserService` のインジェクション。
    -   基本的なCRUDメソッド (`find`, `findById`, `create`, `update`, `delete`)。
        -   `findById`, `update`, `delete` メソッドでは、主キーのカラム名と型をテーブル定義から取得して使用する。
        -   `create`, `update` メソッドでは、リクエストボディを `User.class` のように動的なモデルクラスに変換する。
-   `find` メソッドは、サンプルでは複雑なクエリパラメータを持っているが、初期実装ではシンプルなページネーションのみに対応するか、あるいは空のメソッドとして生成する。

## 3. 既存ロジックへの統合 (index.html の `<script>` タグ内)

-   「変換実行」ボタンのクリックイベントハンドラを修正する。
-   「Java (Controller)」チェックボックスがオンの場合、`generateJavaController` を呼び出し、結果を対応するテキストエリアに表示する。
-   「すべてダウンロード (ZIP)」の機能を修正し、生成されたJavaコントローラーのファイル (`UserController.java` のようなファイル名) もZIPファイルに含めるようにする。ファイル名はコントローラークラス名と一致させる。
